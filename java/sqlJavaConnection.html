<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Connecting SQL with Java</title>

    <!-- Bootstrap -->
    <!-- JQuery is required -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="../css/pandoc-syntax.css">
  </head>
  <body>
<h1 id="coding-bootcamp-connecting-sql-with-java">Coding Bootcamp: Connecting SQL with Java</h1>
<h2 id="consuming-data-in-java">Consuming data in Java</h2>
<h2 id="java-database-connectivity-jdbc">Java Database Connectivity (JDBC)</h2>
<ul>
<li>Java Database Connectivity (JDBC) is an application programming interface (API) for the programming language Java<br /></li>
<li>defines how a client may access a database.<br /></li>
<li>Part of the Java Standard Edition platform from Oracle Corporation.<br /></li>
<li>Provides methods to query and update data in a database, and is oriented towards relational databases</li>
</ul>
<h2 id="jdbc-application">JDBC application</h2>
<ul>
<li>Tutorial on how to create a simple JDBC application (applies on sakila database)<br /></li>
<li>How to open a database connection<br /></li>
<li>Execute an SQL query<br /></li>
<li>Display the results</li>
</ul>
<h2 id="building-a-jdbc-application-12">Building a JDBC application (1/2)</h2>
<ul>
<li>Import packages<br /></li>
<li>Requires that you include the packages containing the JDBC classes needed for database programming. Most often, using import java.sql.* will suffice<br /></li>
<li>Register the JDBC driver<br /></li>
<li>Requires that you initialize a driver so you can open a communication channel with the database<br /></li>
<li>Open a connection<br /></li>
<li>Requires using the DriverManager.getConnection() method to create a Connection object, which represents a physical connection with the database</li>
</ul>
<h2 id="building-a-jdbc-application-22">Building a JDBC application (2/2)</h2>
<ul>
<li>Execute a query<br /></li>
<li>Requires using an object of type Statement for building and submitting an SQL statement to the database<br /></li>
<li>Extract data from result set<br /></li>
<li>Requires that you use the appropriateResultSet.getXXX() method to retrieve the data from the result set<br /></li>
<li>Clean up the environment<br /></li>
<li>Requires explicitly closing all database resources versus relying on the JVM's garbage collection</li>
</ul>
<h2 id="sample-code-12">Sample Code (1/2)</h2>
<p><img src="media/code1.png" /></p>
<h2 id="sample-code-22">Sample Code (2/2)</h2>
<p><img src="media/code2.png" /></p>
<h2 id="jdbc-driver-for-mysql">JDBC driver for MySQL</h2>
<ul>
<li>Official driver for MySQL: MySQL Connector/J<br /></li>
<li>Available online: <a href="https://dev.mysql.com/downloads/connector/j/5.1.html">https://dev.mysql.com/downloads/connector/j/5.1.html</a><br /></li>
<li>Download: <a href="https://dev.mysql.com/downloads/file/?id=465644">https://dev.mysql.com/downloads/file/?id=465644</a><br /></li>
<li>No login required. Just click “No thanks, just start download”</li>
</ul>
<h2 id="create-new-java-project">Create new Java Project</h2>
<p><img src="media/eclipse1.png" /></p>
<h2 id="create-new-java-project-1">Create new Java Project</h2>
<p><img src="media/eclipse2.png" /></p>
<h2 id="add-java-class-with-the-following-code-13">Add Java class with the following code (1/3)</h2>
<p>```java<br />package sakila;<br />//STEP 1. Import required packages<br />import java.sql.*;</p>
<p>public class ConsumeData {<br /> // JDBC driver name and database URL<br /> static final String JDBC_DRIVER = &quot;com.mysql.jdbc.Driver&quot;;<br /> static final String DB_URL = &quot;jdbc:mysql://localhost/sakila&quot;;</p>
<p>// Database credentials<br /> static final String USER = &quot;root&quot;;<br /> static final String PASS = &quot;&quot;;</p>
<p>public static void main(String[] args) {<br /> Connection conn = null;<br /> Statement stmt = null;<br /> try{<br /> //STEP 2: Register JDBC driver<br /> Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</p>
<pre><code>  //STEP 3: Open a connection
  System.out.println(&quot;Connecting to database...&quot;);
  conn = DriverManager.getConnection(DB_URL,USER,PASS);</code></pre>
<p>```java</p>
<h2 id="add-java-class-with-the-following-code-23">Add Java class with the following code (2/3)</h2>
<p>```java<br />//STEP 4: Execute a query<br /> System.out.println(&quot;Creating statement...&quot;);<br /> stmt = conn.createStatement();<br /> String sql;<br /> sql = &quot;SELECT actor_id, first_name, last_name FROM actor&quot;;<br /> ResultSet rs = stmt.executeQuery(sql);</p>
<pre><code>  //STEP 5: Extract data from result set
  while(rs.next()){
     //Retrieve by column name
     int actor_id  = rs.getInt(&quot;actor_id&quot;);
     String firstname = rs.getString(&quot;first_name&quot;);
     String lastname = rs.getString(&quot;last_name&quot;);

     //Display values
     System.out.print(&quot;ActorID: &quot; + actor_id);
     System.out.print(&quot;, First name: &quot; + firstname);
     System.out.println(&quot;, Last name: &quot; + lastname);
  }</code></pre>
<p>//STEP 6: Clean-up environment<br /> rs.close();<br /> stmt.close();<br /> conn.close();<br /> }catch(SQLException se){<br />```java</p>
<h2 id="add-java-class-with-the-following-code-33">Add Java class with the following code (3/3)</h2>
<p><code>java //Handle errors for JDBC       se.printStackTrace();    }catch(Exception e){       //Handle errors for Class.forName       e.printStackTrace();    }finally{       //finally block used to close resources       try{          if(stmt!=null)             stmt.close();       }catch(SQLException se2){       }// nothing we can do       try{          if(conn!=null)             conn.close();       }catch(SQLException se){          se.printStackTrace();       }//end finally try    }//end try    System.out.println(&quot;Finshed!&quot;); }//end main }//end FirstExample</code>java</p>
<h2 id="configure-build-path-to-add-mysql-connectorj-driver">Configure Build Path to add MySQL Connector/J driver</h2>
<p><img src="media/eclipse3.png" /></p>
<h2 id="configure-build-path-to-add-mysql-connectorj-driver-1">Configure Build Path to add MySQL Connector/J driver</h2>
<p><img src="media/eclipse4.png" /></p>
<h2 id="terminal-output-after-executing-the-java-code">Terminal output after executing the Java code</h2>
<p><img src="media/eclipse5.png" /></p>

<hr />
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
  </body>
</html>
